(function(){"use strict";var e={1279:function(e,t,a){var r=a(5130),o=a(6768);const s={id:"app"};function l(e,t,a,r,l,i){const n=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.bF)(n)])}var i={name:"App"},n=a(1241);const c=(0,n.A)(i,[["render",l]]);var d=c,u=a(1387),m=(a(4114),a(4232)),h=a(144),p=a(4373);const k=p.A.create({baseURL:"https://localhost:44339"});k.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers["Authorization"]=`Bearer ${t}`),e}),(e=>Promise.reject(e))),k.interceptors.response.use((e=>e),(e=>(401===e.response.status&&(localStorage.removeItem("token"),router.push("/login")),Promise.reject(e)))),k.interceptors.response.use((e=>e),(e=>(e.response?console.error("Erro: ",e.response.data):e.request?console.error("Erro de rede: ",e.request):console.error("Erro: ",e.message),Promise.reject(e))));var b=k;const g={id:"app"},f={id:"login"},v=(0,o.Lk)("div",{id:"description"},[(0,o.Lk)("h1",null,"Task Manager")],-1),T={id:"form"},P=(0,o.Lk)("label",{for:"username"},"Username",-1),C=(0,o.Lk)("label",{for:"password"},"Password",-1),L=["type"],y=(0,o.Lk)("button",{type:"submit"},"Log in",-1);var w={__name:"UserLogin",setup(e){const t=(0,h.KR)(""),a=(0,h.KR)(!0),s=(0,h.KR)(""),l=(0,o.EW)((()=>a.value?"fa-eye":"fa-eye-slash")),i=(0,o.EW)((()=>a.value?"password":"text")),n=async()=>{try{const e=await b.post("api/user/login",{username:t.value,password:s.value});localStorage.setItem("token",e.data.token),Ia.push({name:"TimeTrackerList"})}catch(error){console.error("Erro ao fazer login: ",error),alert("Login falhou. Verifique suas credenciais  "+error.message)}};return(e,c)=>((0,o.uX)(),(0,o.CE)("div",g,[(0,o.Lk)("div",f,[v,(0,o.Lk)("div",T,[(0,o.Lk)("form",{onSubmit:(0,r.D$)(n,["prevent"])},[P,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":c[0]||(c[0]=e=>t.value=e),placeholder:"",autocomplete:"off"},null,512),[[r.Jo,t.value]]),C,(0,o.Lk)("i",{class:(0,m.C4)(["fas",[l.value]]),onClick:c[1]||(c[1]=e=>a.value=!a.value)},null,2),(0,o.bo)((0,o.Lk)("input",{type:i.value,id:"password","onUpdate:modelValue":c[2]||(c[2]=e=>s.value=e),placeholder:""},null,8,L),[[r.hp,s.value]]),y],32)])])]))}};const E=w;var D=E;const j=(0,o.Lk)("p",null,"Você tem certeza que deseja excluir este item?",-1),S={class:"d-flex justify-content-end m-2"},M={class:"input-group m-2",style:{float:"right",width:"30%"}},V=(0,o.Lk)("i",{class:"fas fa-search"},null,-1),N=[V],F=(0,o.Lk)("i",{class:"fas fa-plus"},null,-1),I={class:"grid-widget"},O={class:"table b-table table-hover table-striped"},_=(0,o.Lk)("i",{class:"fas fa-sort-up"},null,-1),A=[_],$=(0,o.Lk)("i",{class:"fas fa-sort-down"},null,-1),X=[$],x=(0,o.Lk)("i",{class:"fas fa-sort-up"},null,-1),B=[x],R=(0,o.Lk)("i",{class:"fas fa-sort-down"},null,-1),z=[R],W=(0,o.Lk)("i",{class:"fas fa-sort-up"},null,-1),K=[W],U=(0,o.Lk)("i",{class:"fas fa-sort-down"},null,-1),q=[U],Z=(0,o.Lk)("i",{class:"fas fa-sort-up"},null,-1),H=[Z],J=(0,o.Lk)("i",{class:"fas fa-sort-down"},null,-1),G=[J],Q=(0,o.Lk)("i",{class:"fas fa-sort-up"},null,-1),Y=[Q],ee=(0,o.Lk)("i",{class:"fas fa-sort-down"},null,-1),te=[ee],ae=(0,o.Lk)("i",{class:"fas fa-sort-up"},null,-1),re=[ae],oe=(0,o.Lk)("i",{class:"fas fa-sort-down"},null,-1),se=[oe],le=(0,o.Lk)("i",{class:"fas fa-sort-up"},null,-1),ie=[le],ne=(0,o.Lk)("i",{class:"fas fa-sort-down"},null,-1),ce=[ne],de=(0,o.Lk)("th",{class:"text-center",style:{"white-space":"nowrap"}},"Ações",-1),ue={class:"text-center",style:{"white-space":"nowrap"}},me=(0,o.Lk)("i",{class:"fas fa-edit"},null,-1),he=(0,o.Lk)("i",{class:"fas fa-trash-alt"},null,-1);function pe(e,t,a,s,l,i){const n=(0,o.g2)("b-modal"),c=(0,o.g2)("b-button"),d=(0,o.g2)("b-pagination"),u=(0,o.g2)("b-form-input"),h=(0,o.g2)("b-form-group"),p=(0,o.g2)("b-form-textarea"),k=(0,o.g2)("b-form-select"),b=(0,o.g2)("b-form"),g=(0,o.gN)("b-tooltip");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(n,{class:"confirm-delete",modelValue:l.isModalVisible,"onUpdate:modelValue":t[0]||(t[0]=e=>l.isModalVisible=e),title:"Confirmação",onOk:i.confirmDelete,onCancel:i.cancelDelete,"ok-title":"Sim","cancel-title":"Cancelar","ok-variant":"danger"},{default:(0,o.k6)((()=>[j])),_:1},8,["modelValue","onOk","onCancel"]),(0,o.bF)(n,{class:"error-modal",modelValue:l.isErrorModalVisible,"onUpdate:modelValue":t[1]||(t[1]=e=>l.isErrorModalVisible=e),title:"Erro","hide-footer":""},{default:(0,o.k6)((()=>[(0,o.Lk)("p",null,(0,m.v_)(l.errorMessage),1)])),_:1},8,["modelValue"]),(0,o.Lk)("div",S,[(0,o.Lk)("div",M,[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>l.searchTerm=e),placeholder:"Buscar tarefa..."},null,512),[[r.Jo,l.searchTerm]]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>i.fetchTasks&&i.fetchTasks(...e)),title:"Buscar"},N)),[[g,void 0,void 0,{hover:!0}]])]),(0,o.Lk)("button",{class:"btn btn-success m-2",onClick:t[4]||(t[4]=(...e)=>i.showTaskCreate&&i.showTaskCreate(...e))},[F,(0,o.eW)(" Nova Tarefa ")])]),(0,o.Lk)("div",I,[(0,o.Lk)("table",O,[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,[(0,o.eW)(" Tarefa "),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[5]||(t[5]=(0,r.D$)((e=>i.sortTable("name","asc")),["prevent"])),title:"Ordenar Ascendente"},A)),[[g,void 0,void 0,{hover:!0}]]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[6]||(t[6]=(0,r.D$)((e=>i.sortTable("name","desc")),["prevent"])),title:"Ordenar Descendente"},X)),[[g,void 0,void 0,{hover:!0}]])]),(0,o.Lk)("th",null,[(0,o.eW)(" Descrição "),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[7]||(t[7]=(0,r.D$)((e=>i.sortTable("name","asc")),["prevent"])),title:"Ordenar Ascendente"},B)),[[g,void 0,void 0,{hover:!0}]]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[8]||(t[8]=(0,r.D$)((e=>i.sortTable("name","desc")),["prevent"])),title:"Ordenar Descendente"},z)),[[g,void 0,void 0,{hover:!0}]])]),(0,o.Lk)("th",null,[(0,o.eW)(" Projeto "),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[9]||(t[9]=(0,r.D$)((e=>i.sortTable("name","asc")),["prevent"])),title:"Ordenar Ascendente"},K)),[[g,void 0,void 0,{hover:!0}]]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[10]||(t[10]=(0,r.D$)((e=>i.sortTable("name","desc")),["prevent"])),title:"Ordenar Descendente"},q)),[[g,void 0,void 0,{hover:!0}]])]),(0,o.Lk)("th",null,[(0,o.eW)(" Tempo Gasto/Dia "),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[11]||(t[11]=(0,r.D$)((e=>i.sortTable("task.timePerDayPerTask","asc")),["prevent"])),title:"Ordenar Ascendente"},H)),[[g,void 0,void 0,{hover:!0}]]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[12]||(t[12]=(0,r.D$)((e=>i.sortTable("task.timePerDayPerTask","desc")),["prevent"])),title:"Ordenar Descendente"},G)),[[g,void 0,void 0,{hover:!0}]])]),(0,o.Lk)("th",null,[(0,o.eW)(" Tempo Gasto/Mês "),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[13]||(t[13]=(0,r.D$)((e=>i.sortTable("task.timePerMonthPerTask","asc")),["prevent"])),title:"Ordenar Ascendente"},Y)),[[g,void 0,void 0,{hover:!0}]]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[14]||(t[14]=(0,r.D$)((e=>i.sortTable("task.timePerMonthPerTask","desc")),["prevent"])),title:"Ordenar Descendente"},te)),[[g,void 0,void 0,{hover:!0}]])]),(0,o.Lk)("th",null,[(0,o.eW)(" Criada Em "),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[15]||(t[15]=(0,r.D$)((e=>i.sortTable("createdAt","asc")),["prevent"])),title:"Ordenar Ascendente"},re)),[[g,void 0,void 0,{hover:!0}]]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[16]||(t[16]=(0,r.D$)((e=>i.sortTable("createdAt","desc")),["prevent"])),title:"Ordenar Descendente"},se)),[[g,void 0,void 0,{hover:!0}]])]),(0,o.Lk)("th",null,[(0,o.eW)(" Editada Em "),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[17]||(t[17]=(0,r.D$)((e=>i.sortTable("updatedAt","asc")),["prevent"])),title:"Ordenar Ascendente"},ie)),[[g,void 0,void 0,{hover:!0}]]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[18]||(t[18]=(0,r.D$)((e=>i.sortTable("updatedAt","desc")),["prevent"])),title:"Ordenar Descendente"},ce)),[[g,void 0,void 0,{hover:!0}]])]),de])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.sortedTasks,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id},[(0,o.Lk)("td",null,(0,m.v_)(e.name),1),(0,o.Lk)("td",null,(0,m.v_)(e.description),1),(0,o.Lk)("td",null,(0,m.v_)(e.projectName),1),(0,o.Lk)("td",null,(0,m.v_)(i.formatTime(e.timePerDayPerTask)||"N/A"),1),(0,o.Lk)("td",null,(0,m.v_)(i.formatTime(e.timePerMonthPerTask)||"N/A"),1),(0,o.Lk)("td",null,(0,m.v_)(i.formatDate(e.createdAt)),1),(0,o.Lk)("td",null,(0,m.v_)(i.formatDate(e.updatedAt)),1),(0,o.Lk)("td",ue,[(0,o.bo)(((0,o.uX)(),(0,o.Wv)(c,{variant:"primary",class:"btn-sm",style:{"margin-right":"3px"},onClick:t=>i.showEditTaskModal(e),title:"Editar"},{default:(0,o.k6)((()=>[me])),_:2},1032,["onClick"])),[[g,void 0,void 0,{hover:!0}]]),(0,o.bo)(((0,o.uX)(),(0,o.Wv)(c,{variant:"danger",class:"btn-sm",onClick:t=>i.deleteTask(e.id),title:"Excluir"},{default:(0,o.k6)((()=>[he])),_:2},1032,["onClick"])),[[g,void 0,void 0,{hover:!0}]])])])))),128))])])]),(0,o.bF)(d,{modelValue:l.paginationParams.pageNumber,"onUpdate:modelValue":t[19]||(t[19]=e=>l.paginationParams.pageNumber=e),"total-rows":l.totalRows,"per-page":l.paginationParams.pageSize,onPageClick:i.onPageChange,class:"my-1",style:{float:"right"}},null,8,["modelValue","total-rows","per-page","onPageClick"]),(0,o.Lk)("div",null,[(0,o.bF)(n,{id:"task-modal",title:l.task.id?"Editar Tarefa":"Nova Tarefa",ref:"taskForm",modelValue:l.showCreateTask,"onUpdate:modelValue":t[23]||(t[23]=e=>l.showCreateTask=e),onOk:i.handleSubmit},{default:(0,o.k6)((()=>[(0,o.bF)(b,{onSubmit:(0,r.D$)(i.handleSubmit,["stop","prevent"])},{default:(0,o.k6)((()=>[(0,o.bF)(h,{label:"Nome da Tarefa","label-for":"name-input","invalid-feedback":"O nome é obrigatório e deve ter menos de 250 caracteres."},{default:(0,o.k6)((()=>[(0,o.bF)(u,{id:"name-input",modelValue:l.task.name,"onUpdate:modelValue":t[20]||(t[20]=e=>l.task.name=e),state:l.nameState,onInput:i.validateName,required:"",maxlength:"250",placeholder:"Digite o nome da tarefa"},null,8,["modelValue","state","onInput"])])),_:1}),(0,o.bF)(h,{label:"Descrição","label-for":"description-input","invalid-feedback":"A descrição deve ter menos de 500 caracteres"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{id:"description-input",modelValue:l.task.description,"onUpdate:modelValue":t[21]||(t[21]=e=>l.task.description=e),state:l.descriptionState,onInput:i.validateDescription,placeholder:"Digite a descrição (optional)"},null,8,["modelValue","state","onInput"])])),_:1}),(0,o.bF)(h,{label:"Projeto associado","label-for":"project-select","invalid-feedback":"Por favor, selecione um projeto."},{default:(0,o.k6)((()=>[(0,o.bF)(k,{id:"project-select",modelValue:l.task.projectId,"onUpdate:modelValue":t[22]||(t[22]=e=>l.task.projectId=e),state:l.projectState,onInput:i.validateProject,options:e.projectOptions,required:""},null,8,["modelValue","state","onInput","options"])])),_:1}),(0,o.bF)(h,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{type:"submit",variant:"primary"},{default:(0,o.k6)((()=>[(0,o.eW)("Salvar")])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1},8,["title","modelValue","onOk"]),(0,o.bF)(n,{id:"addTaskToProjectModal",title:"Adicionar Tarefa ao Projeto",modelValue:i.showAddTaskToProject,"onUpdate:modelValue":t[25]||(t[25]=e=>i.showAddTaskToProject=e),onOk:i.handleAddTaskToProject,onHide:i.resetTaskToProjectForm},{default:(0,o.k6)((()=>[(0,o.bF)(b,{onSubmit:(0,r.D$)(i.handleAddTaskToProject,["prevent"])},{default:(0,o.k6)((()=>[(0,o.bF)(h,{label:"Tarefa"},{default:(0,o.k6)((()=>[(0,o.bF)(k,{modelValue:l.selectedTaskId,"onUpdate:modelValue":t[24]||(t[24]=e=>l.selectedTaskId=e),options:e.taskOptions},null,8,["modelValue","options"])])),_:1}),(0,o.bF)(h,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{type:"submit",variant:"primary"},{default:(0,o.k6)((()=>[(0,o.eW)("Adicionar")])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1},8,["modelValue","onOk","onHide"])])])}const ke="/Task",be="/Project",ge={fetchTasks(e){return b.get(`${ke}/search`,{params:e}).then((e=>{const t=e.data,a=e.headers["pagination"];let r={};return a&&(r=JSON.parse(a)),{tasks:t,pagination:r}})).catch((e=>{throw console.error("Error fetching tasks:",e),new Error("Erro ao buscar tarefas: "+e.message)}))},fetchProjects(e){return b.get(be,{params:e}).then((e=>{const t=e.data;return t.map((e=>({value:e.id,text:e.name})))})).catch((e=>{throw console.error("Error fetching projects:",e),new Error("Erro ao buscar projetos: "+e.message)}))},saveTask(e){return e.id?b.put(`${ke}/${e.id}`,e).catch((e=>{throw console.error("Error updating task:",e),new Error("Erro ao atualizar tarefa: "+e.message)})):b.post(ke,e).catch((e=>{throw console.error("Error creating task:",e),new Error("Erro ao criar tarefa: "+e.message)}))},deleteTask(e){return b.delete(`${ke}/${e}`).catch((e=>{throw console.error("Error deleting task:",e),new Error("Erro ao deletar tarefa: "+e.message)}))},addTaskToProject(e,t){return b.post(`${be}/${e}/Tasks`,{taskId:t}).catch((e=>{throw console.error("Error adding task to project:",e),new Error("Erro ao adicionar tarefa ao projeto: "+e.message)}))}};var fe=ge,ve=a(5015),Te={components:{BButton:ve.PF,BModal:ve.RB,BForm:ve.Zt,BFormGroup:ve.a3,BFormInput:ve.bL,BPagination:ve.HN,BFormSelect:ve.JR,BFormTextarea:ve.bF},data(){return{tasks:[],projects:[],selectedProject:"",searchTerm:"",sortKey:"",sortOrder:"",paginationParams:{pageNumber:1,pageSize:10},totalRows:0,showCreateTask:!1,showEditTask:!1,isModalVisible:!1,isErrorModalVisible:!1,errorMessage:"",project:{id:null,name:""},task:{name:"",description:"",projectId:null},selectedProjectId:null,selectedTaskId:null,nameState:null,descriptionState:null,projectState:null}},computed:{sortedTasks(){return this.tasks.slice().sort(((e,t)=>{let a="asc"===this.sortOrder?1:-1;return e[this.sortKey]<t[this.sortKey]?-1*a:e[this.sortKey]>t[this.sortKey]?1*a:0}))}},methods:{validateName(){this.nameState=this.task.name.length>0&&this.task.name.length<=250},validateDescription(){this.descriptionState=this.task.description.length<=500},validateProject(){this.projectState=null!==this.task.projectId},formatTime(e){const[t,a,r]=e.split(":"),o=r.split(".")[0];return`${t.padStart(2,"0")}:${a.padStart(2,"0")}:${o.padStart(2,"0")}`},formatDate(e){return e?new Date(e).toLocaleString():null},deleteTask(e){this.itemToDelete=e,this.isModalVisible=!0},async confirmDelete(){try{await fe.deleteTask(this.itemToDelete),this.fetchTasks()}catch(error){console.error("Error deleting task:",error),this.errorMessage="Erro ao tentar deletar a tarefa: "+error.message,this.isErrorModalVisible=!0}finally{this.isModalVisible=!1,this.itemToDelete=null}},cancelDelete(){this.isModalVisible=!1,this.itemToDelete=null},onPageChange(e){let t;if("number"===typeof e)t=e;else if(e&&e.target&&e.target.classList.contains("page-link")){const a=e.target.innerText.trim();t="‹"===a?this.paginationParams.pageNumber-1:"›"===a?this.paginationParams.pageNumber+1:"«"===a?1:"»"===a?Math.ceil(this.totalRows/this.paginationParams.pageSize):parseInt(a,10)}t&&!isNaN(t)&&t>0&&(this.paginationParams.pageNumber=t,this.fetchTasks())},sortTable(e,t){this.sortKey=e,this.sortOrder=t},showTaskCreate(){this.resetTaskForm(),this.showCreateTask=!0},showEditTaskModal(e){this.task={id:e.id,name:e.name,description:e.description,projectId:e.projectId},this.showCreateTask=!0},closeModal(){this.resetTaskForm(),this.resetTaskToProjectForm(),this.showCreateTask=!1},showAddTaskToProject(){this.showAddTaskToProjectModal=!0},async handleAddTaskToProject(){try{await fe.addTaskToProject(this.task.projectId,this.selectedTaskId),this.fetchProjects(),this.showAddTaskToProjectModal=!1}catch(error){console.error("Error adding task to project:",error)}},async fetchTasks(){try{const{tasks:e,pagination:t}=await fe.fetchTasks({searchTerm:this.searchTerm,pageNumber:this.paginationParams.pageNumber,pageSize:this.paginationParams.pageSize});this.tasks=e,this.paginationParams.pageNumber=t.currentPage||this.paginationParams.pageNumber,this.paginationParams.pageSize=t.itemsPerPage||this.paginationParams.pageSize,this.totalRows=t.totalItems||0}catch(error){console.error("Error fetching tasks:",error),this.errorMessage="Erro ao buscar tarefas: "+error.message,this.isErrorModalVisible=!0}},async fetchProjects(){try{this.projectOptions=await fe.fetchProjects({pageNumber:this.paginationParams.pageNumber,pageSize:this.paginationParams.pageSize})}catch(error){console.error("Error fetching projects:",error)}},handleSubmit(){this.validateName(),this.validateDescription(),this.validateProject(),this.nameState&&this.descriptionState&&this.projectState?(this.handleSave(),console.log("Form is valid! Submitting...")):(this.errorMessage="Verifique os campos ",this.isErrorModalVisible=!0)},async handleSave(){try{await fe.saveTask(this.task),this.closeModal(),this.fetchTasks()}catch(error){console.error("Error saving task:",error),this.errorMessage="Erro ao salvar tarefa: "+error.message,this.isErrorModalVisible=!0}},resetTaskForm(){this.task={name:"",description:"",projectId:null},this.nameState=null,this.descriptionState=null,this.projectState=null,this.$refs.taskForm.reset},resetTaskToProjectForm(){this.selectedTaskId=null}},mounted(){this.fetchTasks(),this.fetchProjects()}};const Pe=(0,n.A)(Te,[["render",pe]]);var Ce=Pe;const Le=e=>((0,o.Qi)("data-v-cc73a29a"),e=e(),(0,o.jt)(),e),ye=Le((()=>(0,o.Lk)("footer",null,[(0,o.Lk)("p",null,"© 2024 Task Manager"),(0,o.Lk)("small",null,"Developed by Jessica Preza")],-1)));var we={__name:"BaseLayout",setup(e){const t=(0,u.rd)(),a=()=>{localStorage.removeItem("token"),t.push("/login")};return(e,t)=>{const r=(0,o.g2)("router-link"),s=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("header",null,[(0,o.Lk)("nav",null,[(0,o.Lk)("ul",null,[(0,o.Lk)("li",null,[(0,o.bF)(r,{to:"/timetrackers"},{default:(0,o.k6)((()=>[(0,o.eW)("Home")])),_:1})]),(0,o.Lk)("li",null,[(0,o.bF)(r,{to:"/tasks"},{default:(0,o.k6)((()=>[(0,o.eW)("Tarefas")])),_:1})]),(0,o.Lk)("li",null,[(0,o.bF)(r,{to:"/projects"},{default:(0,o.k6)((()=>[(0,o.eW)("Projetos")])),_:1})]),(0,o.Lk)("li",null,[(0,o.bF)(r,{to:"/tasks/report"},{default:(0,o.k6)((()=>[(0,o.eW)("Relatórios")])),_:1})]),(0,o.Lk)("li",{class:"logout-button"},[(0,o.Lk)("button",{onClick:a},"Sair")])])])]),(0,o.Lk)("main",null,[(0,o.bF)(s)]),ye])}}};const Ee=(0,n.A)(we,[["__scopeId","data-v-cc73a29a"]]);var De=Ee;const je=(0,o.Lk)("p",null,"Você tem certeza que deseja excluir este item?",-1),Se={class:"d-flex justify-content-end m-2"},Me={class:"input-group m-2",style:{float:"right",width:"30%"}},Ve=(0,o.Lk)("i",{class:"fas fa-search"},null,-1),Ne=[Ve],Fe=(0,o.Lk)("i",{class:"fas fa-plus"},null,-1),Ie={class:"grid-widget"},Oe={class:"table b-table table-hover table-striped"},_e=(0,o.Lk)("i",{class:"fas fa-sort-up"},null,-1),Ae=[_e],$e=(0,o.Lk)("i",{class:"fas fa-sort-down"},null,-1),Xe=[$e],xe=(0,o.Lk)("i",{class:"fas fa-sort-up"},null,-1),Be=[xe],Re=(0,o.Lk)("i",{class:"fas fa-sort-down"},null,-1),ze=[Re],We=(0,o.Lk)("i",{class:"fas fa-sort-up"},null,-1),Ke=[We],Ue=(0,o.Lk)("i",{class:"fas fa-sort-down"},null,-1),qe=[Ue],Ze=(0,o.Lk)("th",{class:"text-center",style:{"white-space":"nowrap"}},"Ações",-1),He={class:"text-center",style:{"white-space":"nowrap"}},Je=(0,o.Lk)("i",{class:"fas fa-edit"},null,-1),Ge=(0,o.Lk)("i",{class:"fas fa-trash-alt"},null,-1);function Qe(e,t,a,s,l,i){const n=(0,o.g2)("b-modal"),c=(0,o.g2)("b-button"),d=(0,o.g2)("b-pagination"),u=(0,o.g2)("b-form-input"),h=(0,o.g2)("b-form-group"),p=(0,o.g2)("b-form"),k=(0,o.gN)("b-tooltip");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(n,{class:"confirm-delete",modelValue:l.isModalVisible,"onUpdate:modelValue":t[0]||(t[0]=e=>l.isModalVisible=e),title:"Confirmação",onOk:i.confirmDelete,onCancel:i.cancelDelete,"ok-title":"Sim","cancel-title":"Cancelar","ok-variant":"danger"},{default:(0,o.k6)((()=>[je])),_:1},8,["modelValue","onOk","onCancel"]),(0,o.bF)(n,{class:"error-modal",modelValue:l.isErrorModalVisible,"onUpdate:modelValue":t[1]||(t[1]=e=>l.isErrorModalVisible=e),title:"Erro","hide-footer":""},{default:(0,o.k6)((()=>[(0,o.Lk)("p",null,(0,m.v_)(l.errorMessage),1)])),_:1},8,["modelValue"]),(0,o.Lk)("div",Se,[(0,o.Lk)("div",Me,[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>l.searchTerm=e),placeholder:"Buscar projeto..."},null,512),[[r.Jo,l.searchTerm]]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>i.fetchProjects&&i.fetchProjects(...e)),title:"Buscar"},Ne)),[[k,void 0,void 0,{hover:!0}]])]),(0,o.Lk)("button",{class:"btn btn-success m-2",onClick:t[4]||(t[4]=(...e)=>i.showProjectCreate&&i.showProjectCreate(...e))},[Fe,(0,o.eW)(" Novo Projeto ")])]),(0,o.Lk)("div",Ie,[(0,o.Lk)("table",Oe,[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,[(0,o.eW)(" Projeto "),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[5]||(t[5]=(0,r.D$)((e=>i.sortTable("name","asc")),["prevent"])),title:"Ordenar Ascendente"},Ae)),[[k,void 0,void 0,{hover:!0}]]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[6]||(t[6]=(0,r.D$)((e=>i.sortTable("name","desc")),["prevent"])),title:"Ordenar Descendente"},Xe)),[[k,void 0,void 0,{hover:!0}]])]),(0,o.Lk)("th",null,[(0,o.eW)(" Criado Em "),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[7]||(t[7]=(0,r.D$)((e=>i.sortTable("createdAt","asc")),["prevent"])),title:"Ordenar Ascendente"},Be)),[[k,void 0,void 0,{hover:!0}]]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[8]||(t[8]=(0,r.D$)((e=>i.sortTable("createdAt","desc")),["prevent"])),title:"Ordenar Descendente"},ze)),[[k,void 0,void 0,{hover:!0}]])]),(0,o.Lk)("th",null,[(0,o.eW)(" Editado Em "),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[9]||(t[9]=(0,r.D$)((e=>i.sortTable("updatedAt","asc")),["prevent"])),title:"Ordenar Ascendente"},Ke)),[[k,void 0,void 0,{hover:!0}]]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[10]||(t[10]=(0,r.D$)((e=>i.sortTable("updatedAt","desc")),["prevent"])),title:"Ordenar Descendente"},qe)),[[k,void 0,void 0,{hover:!0}]])]),Ze])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.sortedProjects,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id},[(0,o.Lk)("td",null,(0,m.v_)(e.name),1),(0,o.Lk)("td",null,(0,m.v_)(i.formatDate(e.createdAt)),1),(0,o.Lk)("td",null,(0,m.v_)(i.formatDate(e.updatedAt)),1),(0,o.Lk)("td",He,[(0,o.bo)(((0,o.uX)(),(0,o.Wv)(c,{variant:"primary",class:"btn-sm",style:{"margin-right":"3px"},onClick:t=>i.showEditProjectModal(e),title:"Editar"},{default:(0,o.k6)((()=>[Je])),_:2},1032,["onClick"])),[[k,void 0,void 0,{hover:!0}]]),(0,o.bo)(((0,o.uX)(),(0,o.Wv)(c,{variant:"danger",class:"btn-sm",onClick:t=>i.deleteProject(e.id),title:"Excluir"},{default:(0,o.k6)((()=>[Ge])),_:2},1032,["onClick"])),[[k,void 0,void 0,{hover:!0}]])])])))),128))])])]),(0,o.bF)(d,{modelValue:l.paginationParams.pageNumber,"onUpdate:modelValue":t[11]||(t[11]=e=>l.paginationParams.pageNumber=e),"total-rows":l.totalRows,"per-page":l.paginationParams.pageSize,onPageClick:i.onPageChange,class:"my-1",style:{float:"right"}},null,8,["modelValue","total-rows","per-page","onPageClick"]),(0,o.Lk)("div",null,[(0,o.bF)(n,{id:"projectCreateModal",title:l.project.id?"Editar Projeto":"Novo Projeto",modelValue:l.showCreateProject,"onUpdate:modelValue":t[13]||(t[13]=e=>l.showCreateProject=e),onOk:i.handleSubmit,onHide:i.closeModal},{default:(0,o.k6)((()=>[(0,o.bF)(p,{onSubmit:(0,r.D$)(i.handleSubmit,["prevent"])},{default:(0,o.k6)((()=>[(0,o.bF)(h,{label:"Nome do Projeto","label-for":"name-input","invalid-feedback":"O nome é obrigatório e deve ter menos de 250 caracteres."},{default:(0,o.k6)((()=>[(0,o.bF)(u,{id:"name-input",modelValue:l.project.name,"onUpdate:modelValue":t[12]||(t[12]=e=>l.project.name=e),state:l.nameState,onInput:i.validateName,required:"",placeholder:"Digite o nome do projeto"},null,8,["modelValue","state","onInput"])])),_:1}),(0,o.bF)(h,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{type:"submit",variant:"primary"},{default:(0,o.k6)((()=>[(0,o.eW)("Salvar")])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1},8,["title","modelValue","onOk","onHide"])])])}const Ye={async fetchProjects(e,t,a){try{const r=await b.get("/Project/search",{params:{searchTerm:e,pageNumber:t,pageSize:a}});return r}catch(error){throw new Error(error.response?.data||"Erro ao buscar projetos: "+error.message)}},async createProject(e){try{const t=await b.post("/project",e);return t.data}catch(error){throw new Error(error.response?.data||"Erro ao criar projeto: "+error.message)}},async updateProject(e,t){try{const a=await b.put(`/project/${e}`,t);return a.data}catch(error){throw new Error(error.response?.data||"Erro ao atualizar projeto: "+error.message)}},async deleteProject(e){try{await b.delete(`/project/${e}`)}catch(error){throw new Error(error.response?.data||"Erro ao deletar projeto: "+error.message)}}};var et={components:{BButton:ve.PF,BModal:ve.RB,BForm:ve.Zt,BFormGroup:ve.a3,BFormInput:ve.bL,BPagination:ve.HN},data(){return{projects:[],selectedProject:"",searchTerm:"",sortKey:"",sortOrder:"",paginationParams:{pageNumber:1,pageSize:10},totalRows:0,showCreateProject:!1,showEditProject:!1,isModalVisible:!1,isErrorModalVisible:!1,errorMessage:"",project:{id:null,name:""},selectedProjectId:null,nameState:null}},computed:{sortedProjects(){return this.projects.slice().sort(((e,t)=>{let a="asc"===this.sortOrder?1:-1;return e[this.sortKey]<t[this.sortKey]?-1*a:e[this.sortKey]>t[this.sortKey]?1*a:0}))}},methods:{validateName(){this.nameState=this.project.name.length>0&&this.project.name.length<=250},deleteProject(e){this.itemToDelete=e,this.isModalVisible=!0},async confirmDelete(){try{await Ye.deleteProject(this.itemToDelete),this.fetchProjects()}catch(error){console.error("Error deleting project:",error),this.errorMessage=error.response?.data||"Erro ao tentar deletar o projeto: "+error.message,this.isErrorModalVisible=!0}finally{this.isModalVisible=!1,this.itemToDelete=null}},cancelDelete(){this.isModalVisible=!1,this.itemToDelete=null},onPageChange(e){let t;if("number"===typeof e)t=e;else if(e&&e.target&&e.target.classList.contains("page-link")){const a=e.target.innerText.trim();t="‹"===a?this.paginationParams.pageNumber-1:"›"===a?this.paginationParams.pageNumber+1:"«"===a?1:"»"===a?Math.ceil(this.totalRows/this.paginationParams.pageSize):parseInt(a,10)}t&&!isNaN(t)&&t>0&&(this.paginationParams.pageNumber=t,this.fetchProjects())},sortTable(e,t){this.sortKey=e,this.sortOrder=t},showProjectCreate(){this.resetProjectForm(),this.nameState=null,this.showCreateProject=!0},showEditProjectModal(e){this.project={id:e.id,name:e.name},this.showCreateProject=!0},closeModal(){this.resetProjectForm(),this.showCreateProject=!1},async fetchProjects(){try{const e=await Ye.fetchProjects(this.searchTerm,this.paginationParams.pageNumber,this.paginationParams.pageSize);this.projects=e.data;const t=e.headers["pagination"];if(t){const e=JSON.parse(t);this.paginationParams.pageNumber=e.currentPage,this.paginationParams.pageSize=e.itemsPerPage,this.totalRows=e.totalItems}}catch(error){console.error("Error fetching projects:",error),this.errorMessage=error.response?.data||"Erro ao buscar projetos: "+error.message,this.isErrorModalVisible=!0}},formatDate(e){return e?new Date(e).toLocaleString():null},handleSubmit(){this.validateName(),this.nameState?(this.handleSave(),console.log("Form is valid! Submitting...")):(this.errorMessage="Verifique os campos não preenchidos",this.isErrorModalVisible=!0)},async handleSave(){try{this.project.id?(await Ye.updateProject(this.project.id,this.project),this.closeModal(),this.fetchProjects()):(await Ye.createProject(this.project),this.closeModal(),this.fetchProjects())}catch(error){console.error("Error saving project:",error),this.errorMessage=error.response?.data||"Erro ao salvar projeto: "+error.message,this.isErrorModalVisible=!0}},resetProjectForm(){this.project={name:""}}},mounted(){this.fetchProjects()}};const tt=(0,n.A)(et,[["render",Qe]]);var at=tt;const rt=(0,o.Lk)("p",null,"Você tem certeza que deseja excluir este item?",-1),ot=(0,o.Lk)("h6",{class:"cabecalho"},[(0,o.Lk)("b",null,"Inicie uma Tarefa")],-1),st={class:"form-widget"},lt=(0,o.Lk)("span",{style:{color:"red"}},"*",-1),it=(0,o.Lk)("span",{style:{color:"red"}},"*",-1),nt=(0,o.Lk)("br",null,null,-1),ct=(0,o.Lk)("h6",{class:"cabecalho"},[(0,o.Lk)("b",null,"Relação de Tarefas")],-1),dt={class:"grid-widget"},ut={class:"input-group m-2",style:{float:"right",width:"50%"}},mt=(0,o.Lk)("span",{class:"input-group-text"},[(0,o.Lk)("i",{class:"fas fa-filter"})],-1),ht=(0,o.Lk)("i",{class:"fas fa-search"},null,-1),pt=[ht],kt=(0,o.Lk)("i",{class:"fa fa-play"},null,-1),bt=(0,o.Lk)("i",{class:"fa fa-trash"},null,-1),gt={key:0,class:"fa fa-circle-info",style:{"margin-left":"5px",color:"#0d6efd"},title:"O Projeto, tarefa ou colaborador foi deletado"};function ft(e,t,a,s,l,i){const n=(0,o.g2)("b-modal"),c=(0,o.g2)("b-form-select"),d=(0,o.g2)("b-form-group"),u=(0,o.g2)("b-col"),h=(0,o.g2)("b-button"),p=(0,o.g2)("b-row"),k=(0,o.g2)("b-form"),b=(0,o.g2)("b-table"),g=(0,o.g2)("b-pagination"),f=(0,o.gN)("b-tooltip");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(n,{class:"confirm-delete",modelValue:l.isModalVisible,"onUpdate:modelValue":t[0]||(t[0]=e=>l.isModalVisible=e),title:"Confirmação",onOk:i.confirmDelete,onCancel:i.cancelDelete,"ok-title":"Sim","cancel-title":"Cancelar","ok-variant":"danger"},{default:(0,o.k6)((()=>[rt])),_:1},8,["modelValue","onOk","onCancel"]),(0,o.bF)(n,{class:"error-modal",modelValue:l.isErrorModalVisible,"onUpdate:modelValue":t[1]||(t[1]=e=>l.isErrorModalVisible=e),title:"Erro","hide-footer":""},{default:(0,o.k6)((()=>[(0,o.Lk)("p",null,(0,m.v_)(l.errorMessage),1)])),_:1},8,["modelValue"]),ot,(0,o.Lk)("div",st,[(0,o.bF)(k,{onSubmit:(0,r.D$)(i.handleSubmit,["prevent"])},{default:(0,o.k6)((()=>[(0,o.bF)(p,{class:"align-items-center"},{default:(0,o.k6)((()=>[(0,o.bF)(u,{md:"5"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{label:"Tarefa - Projeto *","label-class":"bold-label","label-for":"task-select","invalid-feedback":"Selecione um projeto"},{label:(0,o.k6)((()=>[(0,o.eW)(" Tarefa - Projeto "),lt])),default:(0,o.k6)((()=>[(0,o.bF)(c,{id:"task-select",modelValue:l.selectedTaskId,"onUpdate:modelValue":t[2]||(t[2]=e=>l.selectedTaskId=e),options:l.taskOptions,state:l.taskState,onInput:i.validateTask,required:""},null,8,["modelValue","options","state","onInput"])])),_:1})])),_:1}),(0,o.bF)(u,{md:"3"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{label:"Colaborador *","label-class":"bold-label","label-for":"collaborator-select","invalid-feedback":"Selecione um colaborador"},{label:(0,o.k6)((()=>[(0,o.eW)(" Colaborador "),it])),default:(0,o.k6)((()=>[(0,o.bF)(c,{id:"collaborator-select",modelValue:l.selectedCollaboratorId,"onUpdate:modelValue":t[3]||(t[3]=e=>l.selectedCollaboratorId=e),options:l.collaboratorOptions,state:l.collaboratorState,onInput:i.validateCollaborator,required:""},null,8,["modelValue","options","state","onInput"])])),_:1})])),_:1}),(0,o.bF)(u,{md:"2"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{label:"Tempo","label-class":"bold-label"},{default:(0,o.k6)((()=>[(0,o.Lk)("p",null,(0,m.v_)(i.formattedTimespan()),1)])),_:1})])),_:1}),(0,o.bF)(u,{md:"2",class:"row"},{default:(0,o.k6)((()=>[(0,o.bF)(h,{onClick:i.handleTimer,class:(0,m.C4)(l.isTracking?"btn btn-danger":"btn btn-info")},{default:(0,o.k6)((()=>[(0,o.Lk)("i",{class:(0,m.C4)(l.isTracking?"fa fa-pause":"fa fa-play")},null,2),(0,o.eW)(" "+(0,m.v_)(l.isTracking?"Parar":"Iniciar"),1)])),_:1},8,["onClick","class"])])),_:1})])),_:1})])),_:1},8,["onSubmit"])]),nt,ct,(0,o.Lk)("div",dt,[(0,o.Lk)("div",ut,[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>l.searchTerm=e),placeholder:"Buscar tarefa, projeto ou colaborador..."},null,512),[[r.Jo,l.searchTerm]]),mt,(0,o.bF)(c,{modelValue:l.dateFilter,"onUpdate:modelValue":t[5]||(t[5]=e=>l.dateFilter=e),options:l.dateOptions,class:"ml-2"},null,8,["modelValue","options"]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("button",{id:"searchbutton",class:"btn btn-primary",onClick:t[6]||(t[6]=(...e)=>i.searchTimeTrackers&&i.searchTimeTrackers(...e)),title:"Buscar"},pt)),[[f,void 0,void 0,{hover:!0}]])]),(0,o.bF)(b,{items:l.timeTrackers,fields:l.fields,striped:"",hover:"","sort-by":l.sortBy,"sort-desc":l.sortDesc},{"cell(taskName)":(0,o.k6)((e=>[(0,o.eW)((0,m.v_)(e.item.taskResponseDto?.name+" - "+e.item.taskResponseDto.projectResponseDto.name||"N/A"),1)])),"cell(timeZone)":(0,o.k6)((e=>[(0,o.eW)((0,m.v_)(e.item.timeZoneId),1)])),"cell(collaborator)":(0,o.k6)((e=>[(0,o.eW)((0,m.v_)(e.item.collaboratorResponseDto?.name||"N/A"),1)])),"cell(startDate)":(0,o.k6)((e=>[(0,o.eW)((0,m.v_)(i.formatDate(e.item.startDate)),1)])),"cell(endDate)":(0,o.k6)((e=>[(0,o.eW)((0,m.v_)(i.formatDate(e.item.endDate)),1)])),"cell(timespan)":(0,o.k6)((e=>[(0,o.eW)((0,m.v_)(i.formatTimespan(e.item.startDate,e.item.endDate)),1)])),"cell(actions)":(0,o.k6)((e=>[(0,o.bF)(h,{disabled:i.deletedItems(e.item),onClick:t=>i.copyBaseInfo(e.item),variant:"info",class:"btn-sm",style:{"margin-right":"3px"}},{default:(0,o.k6)((()=>[kt,(0,o.eW)(" Iniciar")])),_:2},1032,["disabled","onClick"]),(0,o.bF)(h,{onClick:t=>i.deleteTimeTracker(e.item),variant:"danger",class:"btn-sm"},{default:(0,o.k6)((()=>[bt])),_:2},1032,["onClick"]),i.deletedItems(e.item)?(0,o.bo)(((0,o.uX)(),(0,o.CE)("i",gt,null,512)),[[f,void 0,void 0,{hover:!0}]]):(0,o.Q3)("",!0)])),_:1},8,["items","fields","sort-by","sort-desc"]),(0,o.bF)(g,{modelValue:l.paginationParams.pageNumber,"onUpdate:modelValue":t[7]||(t[7]=e=>l.paginationParams.pageNumber=e),"total-rows":l.totalRows,"per-page":l.paginationParams.pageSize,onPageClick:i.onPageChange,class:"my-1 pagination-container",style:{float:"right"}},null,8,["modelValue","total-rows","per-page","onPageClick"])])])}const vt="/TimeTracker",Tt="/Task",Pt="/Collaborator",Ct=async e=>{try{const t=await b.get(`${vt}/search`,{params:e});return t}catch(error){throw new Error(`Error fetching time trackers: ${error.message}`)}},Lt=async e=>{try{await b.delete(`${vt}/${e}`)}catch(error){throw new Error(`Error deleting time tracker: ${error.message}`)}},yt=async e=>{try{await b.post(vt,e)}catch(error){throw new Error(`Error saving time tracker: ${error.message}`)}},wt=async e=>{try{const t=await b.get(`${Tt}/search`,{params:e});return t.data}catch(error){throw new Error(`Error fetching tasks: ${error.message}`)}},Et=async e=>{try{const t=await b.get(Pt,{params:e});return t.data}catch(error){throw new Error(`Error fetching collaborators: ${error.message}`)}};var Dt={name:"TimeTrackerList",components:{BButton:ve.PF,BForm:ve.Zt,BFormGroup:ve.a3,BFormSelect:ve.JR,BTable:ve.Bt,BRow:ve.Ls,BCol:ve.T5,BPagination:ve.HN,BModal:ve.RB},data(){return{paginationParams:{pageNumber:1,pageSize:10},searchTerm:"",dateFilter:"",dateOptions:[{value:"",text:"Sem Filtro"},{value:"today",text:"Hoje"},{value:"thisMonth",text:"Este Mês"}],taskOptions:[],collaboratorOptions:[],timeTrackers:[],selectedTaskId:null,selectedCollaboratorId:null,isTracking:!1,startTime:null,timeZone:this.getTimeZone(),totalRows:0,isModalVisible:!1,isErrorModalVisible:!1,errorMessage:"",itemToDelete:null,sortBy:"StartDate",sortDesc:!0,elapsedTime:0,timerInterval:null,taskState:null,collaboratorState:null,fields:[{key:"taskName",label:"Tarefa - Projeto"},{key:"timeZone",label:"Fuso horário"},{key:"collaborator",label:"Colaborador"},{key:"startDate",label:"Início"},{key:"endDate",label:"Fim"},{key:"timespan",label:"Duração"},{key:"actions",label:"Ações"}]}},computed:{},methods:{deletedItems(e){var t=e.taskResponseDto?.deletedAt>new Date(0)||null!==e.taskResponseDto?.deletedAt||e.taskResponseDto?.projectResponseDto?.deletedAt>new Date(0)||null!==e.taskResponseDto?.projectResponseDto?.deletedAt;return e.collaboratorResponseDto.deleteAt>new Date(0)||e.collaboratorResponseDto.deleteAt,t},validateTask(){this.taskState=!!this.selectedTaskId},validateCollaborator(){this.collaboratorState=!!this.selectedCollaboratorId},deleteTimeTracker(e){this.itemToDelete=e,this.isModalVisible=!0},async confirmDelete(){try{await Lt(this.itemToDelete.id),this.fetchTimeTrackers()}catch(error){console.error("Erro ao excluir o rastreador de tempo: ",error),this.errorMessage="Erro ao deletar timeTracker: "+error.message,this.isErrorModalVisible=!0}finally{this.isModalVisible=!1,this.itemToDelete=null}},cancelDelete(){this.isModalVisible=!1,this.itemToDelete=null},onPageChange(e){let t;if("number"===typeof e)t=e;else if(e&&e.target&&e.target.classList.contains("page-link")){const a=e.target.innerText.trim();t="‹"===a?this.paginationParams.pageNumber-1:"›"===a?this.paginationParams.pageNumber+1:"«"===a?1:"»"===a?Math.ceil(this.totalRows/this.paginationParams.pageSize):parseInt(a,10)}t&&!isNaN(t)&&t>0&&(this.paginationParams.pageNumber=t,this.fetchTimeTrackers())},async searchTimeTrackers(){await this.fetchTimeTrackers()},async fetchTasks(){try{const e=await wt({searchTerm:this.searchTerm,pageNumber:this.paginationParams.pageNumber,pageSize:this.paginationParams.pageSize});this.taskOptions=[{value:null,text:"Selecione uma tarefa"},...e.map((e=>({value:e.id,text:e.name+" - "+e.projectName})))]}catch(error){console.error("Error fetching tasks:",error),this.errorMessage="Erro ao buscar tarefas: "+error.message,this.isErrorModalVisible=!0}},async fetchCollaborators(){try{const e=await Et({searchTerm:this.searchTerm,pageNumber:this.paginationParams.pageNumber,pageSize:this.paginationParams.pageSize});this.collaboratorOptions=[{value:null,text:"Selecione um colaborador"},...e.map((e=>({value:e.id,text:e.name})))]}catch(error){console.error("Error fetching collaborators:",error),this.errorMessage="Erro ao buscar colaboradores: "+error.message,this.isErrorModalVisible=!0}},async fetchTimeTrackers(){try{const e=await Ct({searchTerm:this.searchTerm,dateFilter:this.dateFilter,pageNumber:this.paginationParams.pageNumber,pageSize:this.paginationParams.pageSize,sortBy:this.sortBy,sortDesc:this.sortDesc});this.timeTrackers=e.data;const t=e.headers["pagination"];if(t){const e=JSON.parse(t);this.paginationParams.pageNumber=e.currentPage,this.paginationParams.pageSize=e.itemsPerPage,this.totalRows=e.totalItems}}catch(error){console.error("Error fetching time trackers:",error),this.errorMessage="Erro ao buscar rastreadores de tempo: "+error.message,this.isErrorModalVisible=!0}},formattedTimespan(){if(!this.isTracking||!this.startTime)return"00:00:00";const e=Math.floor(this.elapsedTime/1e3),t=Math.floor(e/3600).toString().padStart(2,"0"),a=Math.floor(e%3600/60).toString().padStart(2,"0"),r=(e%60).toString().padStart(2,"0");return`${t}:${a}:${r}`},handleTimer(){this.validateTask(),this.validateCollaborator(),this.taskState&&this.collaboratorState?this.toggleTimer():(this.errorMessage="Selecione uma tarefa e um colaborador antes de iniciar.",this.isErrorModalVisible=!0)},toggleTimer(){this.isTracking?this.stopTimer():this.taskState&&this.collaboratorState?this.startTimer():(this.errorMessage="Verifique os campos não preenchidos",this.isErrorModalVisible=!0)},startTimer(){this.startTime=new Date-this.elapsedTime,this.isTracking=!0,this.timerInterval=setInterval((()=>{this.elapsedTime=Date.now()-this.startTime}),1e3)},formatToLocalISOString(e,t){const a=new Date(e),r={timeZone:t,hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"},o=new Intl.DateTimeFormat("en-CA",r).formatToParts(a).reduce(((e,t)=>(e[t.type]=t.value,e)),{});return`${o.year}-${o.month}-${o.day}T${o.hour}:${o.minute}:${o.second}.${a.getMilliseconds().toString().padStart(3,"0")}`},stopTimer(){clearInterval(this.timerInterval);const e=this.timeZone.split(") ")[1].trim();try{Intl.DateTimeFormat(void 0,{timeZone:e}).format(new Date)}catch(s){return console.error(`Fuso horário inválido: ${e}`),this.errorMessage=error.response?.data||`Fuso horário inválido: ${e}`,void(this.isErrorModalVisible=!0)}const t=this.formatToLocalISOString(this.startTime,e);this.timerInterval=null;const a=new Date,r=this.formatToLocalISOString(a.getTime(),e),o={startDate:t,endDate:r,timeZoneId:this.timeZone,taskId:this.selectedTaskId,collaboratorId:this.selectedCollaboratorId};this.saveTimeTracker(o),this.resetForm()},async saveTimeTracker(e){try{await yt(e),this.fetchTimeTrackers(),this.resetForm()}catch(error){console.error("Error saving time tracker:",error),this.errorMessage="Erro ao salvar o timeTracker: "+error.message,this.isErrorModalVisible=!0}},handleSubmit(){this.validateTask(),this.validateCollaborator(),this.taskState&&this.collaboratorState?this.handleSave():(this.errorMessage="Verifique os campos não preenchidos",this.isErrorModalVisible=!0)},async handleSave(){this.isTracking?this.stopTimer():this.startTimer()},formatDate(e){return e?new Date(e).toLocaleString():""},formatTimespan(e,t){if(!e||!t)return"00:00:00";const a=new Date(e),r=new Date(t),o=Math.floor((r-a)/1e3),s=Math.floor(o/3600),l=Math.floor(o%3600/60),i=o%60;return`${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}:${String(i).padStart(2,"0")}`},copyBaseInfo(e){this.selectedTaskId=e.taskId,this.selectedCollaboratorId=e.collaboratorId,this.timeZone=e.timeZoneId,this.startTime=null,this.elapsedTime=0,this.isTracking=!1,this.startTimer()},resetForm(){this.selectedTaskId=null,this.selectedCollaboratorId=null,this.isTracking=!1,this.startTime=null,this.taskState=null,this.collaboratorState=null,clearInterval(this.timerInterval)},getTimeZone(){const e=Intl.DateTimeFormat().resolvedOptions().timeZone,t=(new Date).getTimezoneOffset(),a=t>0?"-":"+",r=Math.abs(t),o=String(Math.floor(r/60)).padStart(2,"0"),s=String(r%60).padStart(2,"0"),l=`${a}${o}:${s}`;return`(UTC ${l}) ${e}`}},mounted(){this.fetchTasks(),this.fetchCollaborators(),this.fetchTimeTrackers()}};const jt=(0,n.A)(Dt,[["render",ft]]);var St=jt;const Mt={class:"d-flex justify-content-end m-2"},Vt={class:"input-group m-2",style:{float:"right",width:"30%"}},Nt=(0,o.Lk)("i",{class:"fas fa-search"},null,-1),Ft=[Nt],It={class:"input-group m-2",style:{float:"right",width:"20%"}},Ot=(0,o.Lk)("span",{class:"input-group-text"},[(0,o.Lk)("i",{class:"fas fa-filter"})],-1),_t=(0,o.Lk)("option",{value:""},"Todos os Colaboradores",-1),At=["value"],$t={class:"grid-widget"},Xt={class:"table b-table table-hover table-striped"},xt=(0,o.Lk)("i",{class:"fas fa-sort-up"},null,-1),Bt=[xt],Rt=(0,o.Lk)("i",{class:"fas fa-sort-down"},null,-1),zt=[Rt],Wt=(0,o.Lk)("i",{class:"fas fa-sort-up"},null,-1),Kt=[Wt],Ut=(0,o.Lk)("i",{class:"fas fa-sort-down"},null,-1),qt=[Ut],Zt=(0,o.Lk)("i",{class:"fas fa-sort-up"},null,-1),Ht=[Zt],Jt=(0,o.Lk)("i",{class:"fas fa-sort-down"},null,-1),Gt=[Jt],Qt=(0,o.Lk)("i",{class:"fas fa-sort-up"},null,-1),Yt=[Qt],ea=(0,o.Lk)("i",{class:"fas fa-sort-down"},null,-1),ta=[ea],aa=(0,o.Lk)("th",{class:"collaborator"}," Colaborador ",-1),ra=(0,o.Lk)("th",{class:"time-tracker"}," DataHora Início ",-1),oa=(0,o.Lk)("th",{class:"time-tracker"}," DataHora Fim ",-1),sa=(0,o.Lk)("th",{class:"per-day"}," Tempo/Colaborador/Dia ",-1),la=(0,o.Lk)("th",{class:"per-month"}," Tempo/Colaborador/Mês ",-1),ia=["onClick"],na=(0,o.Lk)("td",null,null,-1),ca=(0,o.Lk)("td",null,null,-1),da=(0,o.Lk)("td",null,null,-1),ua=(0,o.Lk)("td",null,null,-1),ma={class:"collaborator"},ha=(0,o.Lk)("td",null,null,-1),pa=(0,o.Lk)("td",null,null,-1),ka={class:"per-day"},ba={class:"per-month"},ga=(0,o.Lk)("td",null,null,-1),fa=(0,o.Lk)("td",null,null,-1),va=(0,o.Lk)("td",null,null,-1),Ta=(0,o.Lk)("td",null,null,-1),Pa=(0,o.Lk)("td",null,null,-1),Ca={class:"time-tracker"},La={class:"time-tracker"},ya=(0,o.Lk)("td",null,null,-1),wa=(0,o.Lk)("td",null,null,-1);function Ea(e,t,a,s,l,i){const n=(0,o.g2)("b-modal"),c=(0,o.g2)("b-pagination"),d=(0,o.gN)("b-tooltip");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(n,{class:"error-modal",modelValue:l.isErrorModalVisible,"onUpdate:modelValue":t[0]||(t[0]=e=>l.isErrorModalVisible=e),title:"Erro","hide-footer":""},{default:(0,o.k6)((()=>[(0,o.Lk)("p",null,(0,m.v_)(e.errorMessage),1)])),_:1},8,["modelValue"]),(0,o.Lk)("div",Mt,[(0,o.Lk)("div",Vt,[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>l.searchTerm=e),onInput:t[2]||(t[2]=(...e)=>i.onSearchTermChange&&i.onSearchTermChange(...e)),placeholder:"Buscar tarefa ou projeto..."},null,544),[[r.Jo,l.searchTerm]]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>i.filterTasks&&i.filterTasks(...e)),title:"Buscar"},Ft)),[[d,void 0,void 0,{hover:!0}]])]),(0,o.Lk)("div",It,[Ot,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.selectedCollaborator=e),class:"form-control",onChange:t[5]||(t[5]=(...e)=>i.onCollaboratorChange&&i.onCollaboratorChange(...e))},[_t,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.collaboratorOptions,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.name,value:e.name},(0,m.v_)(e.name),9,At)))),128))],544),[[r.u1,l.selectedCollaborator]])])]),(0,o.Lk)("div",$t,[(0,o.Lk)("table",Xt,[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,[(0,o.eW)(" Tarefa "),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[6]||(t[6]=(0,r.D$)((e=>i.sortTable("task.name","asc")),["prevent"])),title:"Ordenar Ascendente"},Bt)),[[d,void 0,void 0,{hover:!0}]]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[7]||(t[7]=(0,r.D$)((e=>i.sortTable("task.name","desc")),["prevent"])),title:"Ordenar Descendente"},zt)),[[d,void 0,void 0,{hover:!0}]])]),(0,o.Lk)("th",null,[(0,o.eW)(" Projeto "),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[8]||(t[8]=(0,r.D$)((e=>i.sortTable("task.projectName","asc")),["prevent"])),title:"Ordenar Ascendente"},Kt)),[[d,void 0,void 0,{hover:!0}]]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[9]||(t[9]=(0,r.D$)((e=>i.sortTable("task.projectName","desc")),["prevent"])),title:"Ordenar Descendente"},qt)),[[d,void 0,void 0,{hover:!0}]])]),(0,o.Lk)("th",null,[(0,o.eW)(" Tempo/Tarefa/Dia "),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[10]||(t[10]=(0,r.D$)((e=>i.sortTable("task.timePerDayPerTask","asc")),["prevent"])),title:"Ordenar Ascendente"},Ht)),[[d,void 0,void 0,{hover:!0}]]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[11]||(t[11]=(0,r.D$)((e=>i.sortTable("task.timePerDayPerTask","desc")),["prevent"])),title:"Ordenar Descendente"},Gt)),[[d,void 0,void 0,{hover:!0}]])]),(0,o.Lk)("th",null,[(0,o.eW)(" Tempo/Tarefa/Mês "),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[12]||(t[12]=(0,r.D$)((e=>i.sortTable("task.timePerMonthPerTask","asc")),["prevent"])),title:"Ordenar Ascendente"},Yt)),[[d,void 0,void 0,{hover:!0}]]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("a",{href:"#",onClick:t[13]||(t[13]=(0,r.D$)((e=>i.sortTable("task.timePerMonthPerTask","desc")),["prevent"])),title:"Ordenar Descendente"},ta)),[[d,void 0,void 0,{hover:!0}]])]),aa,ra,oa,sa,la])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.sortedTasks,(e=>((0,o.uX)(),(0,o.CE)(o.FK,{key:e.id},[(0,o.Lk)("tr",null,[(0,o.Lk)("td",null,[(0,o.Lk)("button",{onClick:t=>i.toggleExpand(e.id),class:"btn btn-link"},[(0,o.Lk)("i",{class:(0,m.C4)(l.expandedTaskId===e.id?"fas fa-chevron-up":"fas fa-chevron-down")},null,2)],8,ia),(0,o.eW)(" "+(0,m.v_)(e.name),1)]),(0,o.Lk)("td",null,(0,m.v_)(e.projectName),1),(0,o.Lk)("td",null,(0,m.v_)(i.formatTime(e.timePerDayPerTask)||"N/A"),1),(0,o.Lk)("td",null,(0,m.v_)(i.formatTime(e.timePerMonthPerTask)||"N/A"),1),(0,o.Lk)("td",{class:(0,m.C4)({"text-muted":!i.hasTimeTrackers(e.id)||l.expandedTaskId!==e.id,"text-detalhe":l.expandedTaskId===e.id}),colspan:"5"},[i.hasTimeTrackers(e.id)?l.expandedTaskId!==e.id?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.eW)(" Expanda para detalhes ")],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:2},[(0,o.eW)(" DETALHES DAS ATIVIDADES ")],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.eW)(" Nenhuma atividade ")],64))],2)]),l.expandedTaskId===e.id?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(i.groupTrackersByCollaborator(e.timeTrackerReportResponseDto),(e=>((0,o.uX)(),(0,o.CE)(o.FK,{key:e.collaboratorName},[(0,o.Lk)("tr",null,[na,ca,da,ua,(0,o.Lk)("td",ma,(0,m.v_)(e.collaboratorName),1),ha,pa,(0,o.Lk)("td",ka,(0,m.v_)(i.formatTime(e.timePerDayPerCollaborator)||"N/A"),1),(0,o.Lk)("td",ba,(0,m.v_)(i.formatTime(e.timePerMonthPerCollaborator)||"N/A"),1)]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.trackers,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.timeTrackerId},[ga,fa,va,Ta,Pa,(0,o.Lk)("td",Ca,(0,m.v_)(i.formatDate(e.startDate)||"N/A"),1),(0,o.Lk)("td",La,(0,m.v_)(i.formatDate(e.endDate)||"N/A"),1),ya,wa])))),128))],64)))),128)):(0,o.Q3)("",!0)],64)))),128))])]),(0,o.bF)(c,{modelValue:l.paginationParams.pageNumber,"onUpdate:modelValue":t[14]||(t[14]=e=>l.paginationParams.pageNumber=e),"total-rows":l.totalRows,"per-page":l.paginationParams.pageSize,onPageClick:i.onPageChange,class:"my-1",style:{float:"right"}},null,8,["modelValue","total-rows","per-page","onPageClick"])])])}const Da={async fetchCollaborators(e){try{const t=await b.get("/Collaborator",{params:e});return t}catch(error){throw new Error("Error fetching collaborators: "+error.message)}}};var ja=Da,Sa={components:{BPagination:ve.HN},data(){return{tasks:[],selectedProject:"",selectedCollaborator:"",searchTerm:"",sortKey:"task.name",sortOrder:"asc",internalSortKey:"tracker.collaboratorName",internalSortOrder:"asc",expandedTaskId:null,paginationParams:{pageNumber:1,pageSize:10},totalRows:0,showCreateTask:!1,showEditTask:!1,selectedTask:null,showAddTaskToProjectModal:!1,task:{name:"",description:"",projectId:null},projectOptions:[],taskOptions:[],collaboratorOptions:[],selectedTaskId:null,allTasks:[],isErrorModalVisible:!1}},computed:{sortedTasks(){return Array.isArray(this.tasks)?this.tasks.filter((e=>e.name.toLowerCase().includes(this.searchTerm.toLowerCase())||e.projectName.toLowerCase().includes(this.searchTerm.toLowerCase()))).sort(((e,t)=>"task.name"===this.sortKey?"asc"===this.sortOrder?e.name.localeCompare(t.name):t.name.localeCompare(e.name):"task.projectName"===this.sortKey?"asc"===this.sortOrder?e.projectName.localeCompare(t.projectName):t.projectName.localeCompare(e.projectName):"task.timePerDayPerTask"===this.sortKey?"asc"===this.sortOrder?(e.timePerDayPerTask||0)-(t.timePerDayPerTask||0):(t.timePerDayPerTask||0)-(e.timePerDayPerTask||0):"task.timePerMonthPerTask"===this.sortKey?"asc"===this.sortOrder?(e.timePerMonthPerTask||0)-(t.timePerMonthPerTask||0):(t.timePerMonthPerTask||0)-(e.timePerMonthPerTask||0):0)):[]},sortedTrackers(){return e=>Array.isArray(e)?e.sort(((e,t)=>"tracker.collaboratorName"===this.internalSortKey?"asc"===this.internalSortOrder?e.collaboratorName.localeCompare(t.collaboratorName):t.collaboratorName.localeCompare(e.collaboratorName):"tracker.startDate"===this.internalSortKey?"asc"===this.internalSortOrder?new Date(e.startDate)-new Date(t.startDate):new Date(t.startDate)-new Date(e.startDate):"tracker.endDate"===this.internalSortKey?"asc"===this.internalSortOrder?new Date(e.endDate)-new Date(t.endDate):new Date(t.endDate)-new Date(e.endDate):0)):[]}},methods:{groupTrackersByCollaborator(e){const t={},a=this.selectedCollaborator?e.filter((e=>e.collaboratorName===this.selectedCollaborator)):e;return a.forEach((e=>{t[e.collaboratorName]||(t[e.collaboratorName]={collaboratorName:e.collaboratorName,timePerDayPerCollaborator:e.timePerDayPerCollaborator,timePerMonthPerCollaborator:e.timePerMonthPerCollaborator,trackers:[]}),t[e.collaboratorName].timePerDayPerCollaborator,t[e.collaboratorName].timePerMonthPerCollaborator,t[e.collaboratorName].trackers.push(e)})),Object.values(t)},async fetchTasks(){try{const{tasks:e,pagination:t}=await fe.fetchTasks({searchTerm:this.searchTerm,pageNumber:this.paginationParams.pageNumber,pageSize:this.paginationParams.pageSize});this.tasks=e,this.allTasks=e,this.filterTasks(),this.paginationParams.pageNumber=t.currentPage||this.paginationParams.pageNumber,this.paginationParams.pageSize=t.itemsPerPage||this.paginationParams.pageSize,this.totalRows=t.totalItems||0}catch(error){console.error("Error fetching tasks:",error),this.errorMessage="Erro ao tentar buscar tarefas: "+error.message,this.isErrorModalVisible=!0}},onPageChange(e){let t;if("number"===typeof e)t=e;else if(e&&e.target&&e.target.classList.contains("page-link")){const a=e.target.innerText.trim();t="‹"===a?this.paginationParams.pageNumber-1:"›"===a?this.paginationParams.pageNumber+1:"«"===a?1:"»"===a?Math.ceil(this.totalRows/this.paginationParams.pageSize):parseInt(a,10)}t&&!isNaN(t)&&t>0&&(this.paginationParams.pageNumber=t,this.fetchTasks())},formatTime(e){if(!e)return"00:00:00";const[t,a,r]=e.split(":"),o=r.split(".")[0];return`${t.padStart(2,"0")}:${a.padStart(2,"0")}:${o.padStart(2,"0")}`},formatDate(e){return e?new Date(e).toLocaleString():"N/A"},toggleExpand(e){this.expandedTaskId=this.expandedTaskId===e?null:e},sortTable(e,t){this.sortKey=e,this.sortOrder=t,this.fetchTasks()},sortInternal(e,t){this.internalSortKey=e,this.internalSortOrder=t},hasTimeTrackers(e){const t=this.tasks.find((t=>t.id===e));return t&&t.timeTrackerReportResponseDto&&t.timeTrackerReportResponseDto.length>0},async fetchCollaborators(){try{const e=await ja.fetchCollaborators({pageNumber:this.paginationParams.pageNumber,pageSize:this.paginationParams.pageSize});this.collaboratorOptions=e.data}catch(error){this.errorMessage="Erro ao tentar buscar colaboradores: "+error.message,this.isErrorModalVisible=!0}},filterTasks(){this.tasks=this.allTasks.filter((e=>{const t=e.name.toLowerCase().includes(this.searchTerm.toLowerCase())||e.projectName.toLowerCase().includes(this.searchTerm.toLowerCase()),a=""===this.selectedCollaborator||e.timeTrackerReportResponseDto.some((e=>e.collaboratorName===this.selectedCollaborator));return t&&a}))},onSearchTermChange(){this.filterTasks()},onCollaboratorChange(){this.filterTasks()}},mounted(){this.fetchTasks(),this.fetchCollaborators()}};const Ma=(0,n.A)(Sa,[["render",Ea]]);var Va=Ma;const Na=[{path:"/",redirect:"/login"},{path:"/login",name:"UserLogin",component:D},{path:"/",component:De,children:[{path:"/tasks",name:"TaskList",component:Ce,meta:{requiresAuth:!0}},{path:"/projects",name:"ProjectList",component:at,meta:{requiresAuth:!0}},{path:"/timetrackers",name:"TimeTrackerList",component:St,meta:{requiresAuth:!0}},{path:"/tasks/report",name:"TaskListReport",component:Va,meta:{requiresAuth:!0}}]}],Fa=(0,u.aE)({history:(0,u.LA)("/"),routes:Na});Fa.beforeEach(((e,t,a)=>{const r=!!localStorage.getItem("token");e.matched.some((e=>e.meta.requiresAuth))&&!r?a({name:"UserLogin"}):a()}));var Ia=Fa;const Oa=(0,r.Ef)(d);Oa.use(Ia),Oa.use(ve.Ay),Oa.use(ve.PG),Oa.mount("#app")}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,r,o,s){if(!r){var l=1/0;for(d=0;d<e.length;d++){r=e[d][0],o=e[d][1],s=e[d][2];for(var i=!0,n=0;n<r.length;n++)(!1&s||l>=s)&&Object.keys(a.O).every((function(e){return a.O[e](r[n])}))?r.splice(n--,1):(i=!1,s<l&&(l=s));if(i){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,o,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,s,l=r[0],i=r[1],n=r[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(n)var d=n(a)}for(t&&t(r);c<l.length;c++)s=l[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(d)},r=self["webpackChunktaskmanager_frontend"]=self["webpackChunktaskmanager_frontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(1279)}));r=a.O(r)})();
//# sourceMappingURL=app.c4a29dba.js.map